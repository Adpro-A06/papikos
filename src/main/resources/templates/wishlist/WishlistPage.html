<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Wishlist Saya - PapiKos</title>
    <link rel="stylesheet" th:href="@{/css/global.css}">
</head>

<body>
<header class="header">
    <div class="header-container">
        <div class="logo">PapiKos</div>
        <div class="header-title">Wishlist Saya</div>
        <div class="user-menu">
            <a th:href="@{/penyewaan/}" class="btn-nav">
                <span>Penyewaan Saya</span>
            </a>
            <a th:href="@{/wishlist}" class="btn-nav">
                <span>Wishlist Saya</span>
            </a>
            <div class="user-info">
                <div class="user-avatar" th:text="${user != null ? user.email.substring(0, 1).toUpperCase() : 'P'}">P</div>
                <span class="user-name" th:text="${user != null ? user.email : 'Penyewa'}">Penyewa</span>
            </div>
            <form th:action="@{/api/auth/logout}" method="post">
                <button type="submit" class="btn-logout">
                    <span>Logout</span>
                </button>
            </form>
        </div>
    </div>
</header>

<main class="main-content">
    <h2 class="page-title">Kos dalam Wishlist Anda</h2>

    <div class="kos-grid">
        <div th:if="${wishlistList == null || wishlistList.empty}" class="no-kos">
            <p>Anda belum menambahkan kos ke wishlist.</p>
        </div>

        <div th:if="${wishlistList != null && !wishlistList.empty}">
            <div th:each="wishlist : ${wishlistList}" class="kos-card">
                <div class="kos-image">
                    <div class="placeholder-image">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor"
                             viewBox="0 0 16 16">
                            <path
                                d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5Z" />
                            <path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6Z" />
                        </svg>
                    </div>
                </div>
                <div class="kos-details">
                    <h3 th:text="${wishlist.kos.nama}">Nama Kos</h3>
                    <p class="kos-address" th:text="${wishlist.kos.alamat}">Alamat Kos</p>
                    <p class="kos-price">Rp <span
                        th:text="${#numbers.formatDecimal(wishlist.kos.harga, 0, 'POINT', 0, 'COMMA')}">0</span> / bulan</p>
                    <p class="kos-availability">Tersedia: <span th:text="${wishlist.kos.jumlah}">0</span> kamar</p>

                    <div class="kos-actions">
                        <a th:href="@{/kos/{id}(id=${wishlist.kos.id})}" class="btn btn-detail">Lihat Detail</a>
                        <form th:action="@{/wishlist/delete/{id}(id=${wishlist.id})}" method="post">
                            <button type="submit" class="btn-wishlist">Hapus dari Wishlist</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

</body>
</html>
